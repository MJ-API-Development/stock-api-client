{% extends "layouts/layout.html" %}
{% block headers %}
    <style>

        #paypal-button-container {
          max-width: 150px;
        }

    </style>
<script src="https://www.paypal.com/sdk/js?client-id={{ paypal_settings.CLIENT_ID }}&currency=USD&vault=true&intent=subscription" data-sdk-integration-source="button-factory"></script>
{% endblock %}
{% block content %}
<div class="right_col" role="main">
<div class="col-md-12">
            {#  TODO include plan details #}
            {% if plan.plan_name == 'BUSINESS' %}
                {% include 'dashboard/plans/business.html' %}
            {% elif plan.plan_name == 'BASIC' %}
                {% include 'dashboard/plans/basic.html' %}
            {% elif plan.plan_name == 'ENTERPRISE' %}
                {% include 'dashboard/plans/enterprise.html' %}
            {% elif plan.plan_name == 'PROFESSIONAL' %}
                {% include 'dashboard/plans/professional.html' %}
            {% else %}
                {% include 'dashboard/plans/basic.html' %}
            {% endif %}

            <div class="card-body">
                <form class="form-horizontal">
                  <div id="paypal-button-container"></div>
                </form>
            </div>

            <form class="form-horizontal" id="user_subscription_data_form">
                {% if user_data %}
                <input id="uuid" type="hidden" value="{{ user_data.uuid }}" />
                {% endif %}

                <input id="plan_id" type="hidden" value="{{ plan.plan_id }}" />
                <input id="paypal_id" type="hidden" value="{{ plan.paypal_id }}" />
            </form>
            <div class="text-body" id="subscription_response_message"></div>
        </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
  <!-- Include the PayPal JavaScript SDK -->
    {% if user_data %}
        <script src="{{ url_for('static', filename='js/paypal_button.js') }}"></script>
    {% endif %}
{% endblock %}

